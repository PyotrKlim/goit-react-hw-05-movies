{"version":3,"file":"static/js/70.0ff30657.chunk.js","mappings":"qPAEaA,E,OAAOC,GAAAA,KAAH,0C,SCmDjB,EA9Ce,WACb,OAAuDC,EAAAA,EAAAA,KAA/CC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eAAgBC,EAArC,EAAqCA,KAAMC,EAA3C,EAA2CA,QAC3C,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAaF,EAAaG,IAAI,UAEpCC,EAAAA,EAAAA,YAAU,WACHF,IACLG,EAAAA,EAAAA,IAAkBV,GACfW,MAAK,SAAAT,GAAI,OAAIC,EAAQD,EAAKU,QAAjB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAlB,GACb,GAAE,CAACP,EAAYJ,EAASH,IAiBzB,OACE,UAAC,EAAAiB,SAAD,YACE,UAACpB,EAAD,CAAMqB,SAbW,SAAAC,GACnBA,EAAEC,iBACYpB,EAAYqB,cAAcC,QAMxChB,EAAgB,CAAEiB,MAAOvB,GAC1B,EAIG,WACE,kBACEwB,MAAOxB,EACPyB,SApBa,SAAC,GAA2B,IAAfD,EAAc,EAAxBE,OAAUF,MAChCvB,EAAeuB,EAChB,EAmBOG,KAAK,OACLC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,wBAEd,mBAAQH,KAAK,SAAb,SAAsB,cAEvB1B,EAAK8B,OAAS,IAAK,SAACC,EAAA,EAAD,CAAWC,OAAQhC,MAG5C,C","sources":["pages/Movies/MoviesCSS.js","pages/Movies/Movies.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n  padding: 14px;\n`;\n","import { useCustomContext } from 'Context/Context';\nimport { MovieList } from 'components/MovieList';\nimport { Suspense, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByName } from 'services/api';\nimport { Form } from './MoviesCSS';\n\nconst Movies = () => {\n  const { reguestText, setReguestText, data, setData } = useCustomContext();\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchName = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchName) return;\n    fetchMoviesByName(reguestText)\n      .then(data => setData(data.results))\n      .catch(err => console.error(err));\n  }, [searchName, setData, reguestText]);\n\n  const handleChange = ({ target: { value } }) => {\n    setReguestText(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = reguestText.toLowerCase().trim();\n\n    if (!query) {\n      return;\n    }\n\n    setSearchParams({ query: reguestText });\n  };\n\n  return (\n    <Suspense>\n      <Form onSubmit={handleSubmit}>\n        <input\n          value={reguestText}\n          onChange={handleChange}\n          name=\"name\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Movie title search\"\n        />\n        <button type=\"submit\">Search</button>\n      </Form>\n      {data.length > 0 && <MovieList movies={data} />}\n    </Suspense>\n  );\n};\nexport default Movies;\n"],"names":["Form","styled","useCustomContext","reguestText","setReguestText","data","setData","useSearchParams","searchParams","setSearchParams","searchName","get","useEffect","fetchMoviesByName","then","results","catch","err","console","error","Suspense","onSubmit","e","preventDefault","toLowerCase","trim","query","value","onChange","target","name","type","autoComplete","autoFocus","placeholder","length","MovieList","movies"],"sourceRoot":""}